(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const u="DEMO-API-KEY",m=new Headers({"Content-Type":"application/json","x-api-key":u}),l={method:"GET",headers:m,redirect:"follow"};async function p(o=0,e="",r=""){const t=`https://api.thecatapi.com/v1/images/search?limit=9&page=${o}&mime_types=${e}&breed_ids=${r}&has_breeds=true`,n=await fetch(t,l);if(!n.ok)throw new Error("Error al obtener gatos");return await n.json()}async function g(){const o=await fetch("https://api.thecatapi.com/v1/breeds",l);if(!o.ok)throw new Error("Error al obtener razas");return await o.json()}let c=0;const f=document.getElementById("galeria"),y=document.getElementById("botonCargarMas");async function v(){await h(),i(),y.addEventListener("click",()=>{c++,i()}),document.getElementById("filters").addEventListener("submit",e=>{e.preventDefault(),c=0,f.innerHTML="",i()})}async function h(){const o=await g(),e=document.getElementById("breed");e.innerHTML='<option value="">Todas</option>',o.forEach(r=>{const t=document.createElement("option");t.value=r.id,t.textContent=r.name,e.appendChild(t)})}async function i(){const o=document.getElementById("loading"),e=document.getElementById("type").value,r=document.getElementById("breed").value;o.style.display="block";try{const t=await p(c,e,r);E(t)}catch{alert("Error al cargar las imágenes de gatos 😿")}finally{o.style.display="none"}}function E(o){o.forEach(e=>{const r=e.breeds?.[0],t=document.createElement("div");t.classList.add("cat-card"),t.innerHTML=`
      <img src="${e.url}" alt="Gato">
      <button class="favorite-btn">❤️</button>
      ${r?`
        <div class="info">
          <p><strong>${r.name}</strong></p>
          <p>${r.origin}</p>
          <p>${r.temperament}</p>
        </div>`:""}
    `,f.appendChild(t),t.querySelector(".favorite-btn").addEventListener("click",()=>{b(e),d()})})}function b(o){let e=JSON.parse(localStorage.getItem("favoritos"))||[];e.some(t=>t.id===o.id)?e=e.filter(t=>t.id!==o.id):e.push({id:o.id,url:o.url}),localStorage.setItem("favoritos",JSON.stringify(e))}function d(){const o=JSON.parse(localStorage.getItem("favoritos"))||[],e=document.getElementById("favoritos");e.innerHTML="",o.forEach(r=>{const t=document.createElement("div");t.classList.add("cat-card"),t.innerHTML=`
      <img src="${r.url}" alt="Gato favorito">
      <button class="favorite-btn">🗑️</button>
    `,e.appendChild(t),t.querySelector(".favorite-btn").addEventListener("click",()=>{L(r.id),d()})})}function L(o){let e=JSON.parse(localStorage.getItem("favoritos"))||[];e=e.filter(r=>r.id!==o),localStorage.setItem("favoritos",JSON.stringify(e))}document.addEventListener("DOMContentLoaded",()=>{v(),d()});
